{"name":"RMVC","tagline":"Ruby MVC - Use Model-View-Controller architecture in a non-rails application!","body":"Ruby MVC\r\n-------\r\nRuby MVC (`rmvc`) is a gem to help you use the MVC (Model-View-Controller) architecture in all your Ruby applications. It's not limited to web applications like Rails! In fact, it's like a *Rails without Rack*.\r\n\r\nGet RMVC\r\n===\r\nIt's an official gem now! If you want the last available gem, run this:\r\n\r\n    $ gem install rmvc\r\n\r\nDepending on your setup, you might have to prefix the command with `sudo`.\r\n\r\nIf you want the last version and the gem isn't updated (look at the top of the README to know what version the gem is), just download the sources from GitHub:\r\n\r\n    $ git init\r\n    $ git clone https://github.com/unrar/rmvc.git\r\n\r\nNow install the gem:\r\n\r\n    $ gem install rmvc-x.x.x.gem\r\n\r\n### Dependencies ###\r\nThe only dependency of RMVC is [colorize](https://rubygems.org/gems/colorize). Rubygems should automatically install colorize for you.\r\n\r\nCreate a project\r\n====\r\nRMVC is made to be friendly to Rails developers. So, as you can guess, the only command you need to run to create \r\na new project is `new`:\r\n\r\n    $ rmvc new ProjectName\r\n\r\nThis will create all the needed files in the `ProjectName` subdirectory.\r\nIt will create a structure like the following:\r\n\r\n    ProjectName/\r\n      app/\r\n        controllers/\r\n          default_controller.rb\r\n        models/\r\n          default.rb\r\n        views/\r\n          main.rb\r\n    ProjectName.rb\r\n\r\nThe file the user will run is `ProjectName.rb`. It has a very simple content.\r\n\r\n```ruby\r\nrequire './app/controllers/default_controller'\r\nDefaultController.main\r\n```\r\n\r\nThe controller, which is the file that, obviously, **controls** everything, contains this by default:\r\n\r\n```ruby\r\nrequire './app/models/default'\r\nrequire './app/views/main'\r\nclass DefaultController\r\n  class << self\r\n    # Add your variables here!\r\n    attr_accessor :name\r\n  end\r\n  @name = \"James!\"\r\n  def main\r\n    MainView.load\r\n  end\r\nend\r\n```\r\n\r\nAnd the contents of the view:\r\n\r\n```ruby\r\nrequire './app/controllers/default_controller'\r\nclass MainView\r\n  def load\r\n    puts \"Hello, hello {#DefaultController.name}!\"\r\n  end\r\nend\r\n```\r\n\r\nThe model is void by default, just a declaration of the class `SomethingModel`.\r\n\r\nHow does it work?\r\n===\r\nIt's very simple. This is basically what happens:\r\n\r\n1. The method `main` of `DefaultController` is invoked. \r\n2. The method `main` of `DefaultController`, following the conventions, invokes the view `main` (`MainView`), using the method `load` as the RMVC conventions say.\r\n3. The method `load` of the `MainView` shows a message through `puts`, using a variable declared at `DefaultController`.\r\n\r\nDeclaring Variables\r\n===\r\nIt's very easy! Just add the variable at the `attr_accessor` statement of your controller:\r\n\r\n```ruby\r\nattr_accessor :onevariable, :anothervariable, :myvariable\r\n```\r\n\r\nAnd declare it using an instance variable (`@var`) after the `class << self` block.\r\n\r\n```ruby\r\nend\r\n@onevariable, @anothervariable, @myvariable = \"A\", \"B\", \"C\"\r\n```\r\n\r\nThis can sound stupid, but it's useful if you want to get data from a database and make it available for all the views under\r\na controller (MVC rules!).\r\n\r\nGenerating new content\r\n===\r\nOf course, RMVC makes it easy for you to generate new models, views and controllers. It will take care of almost all the `require`s. \r\n\r\n**Important!** Make sure to be at the root of your project, not at the app subdirectory or any other one! That's because RMVC looks for the `.rmvc` directory to make sure you're in an actual project, and that directory is on the root.\r\n\r\n**Important!** Make sure to **not capitalize** the names of the models/views/controllers when generating them. To avoid conflicts, it's better to write them in lowercase. This will be prevented in newer releases.\r\n\r\n### Models ###\r\nModels are the most simple component to create, since they're void by default. Use this command:\r\n\r\n    $ rmvc generate model mylovelymodel\r\n\r\nThis will create the file `app/models/mylovelymodel.rb`. Following the conventions, it will add a `require` statement to include a controller also named `mylovelymodel` (`app/controllers/mylovelymodel_controller.rb`). Keep in mind that it will **NOT** create the controller too, so you're free to change the `require` line of the model to \"link\" it to another controller. But we strongly recommend to follow the conventions!\r\n\r\nThe class of the model will be named `MylovelymodelModel`.\r\n\r\n### Views ###\r\nThis ones are a bit more complicated. You need to specify to which controller is any view. Keep in mind that, unlike Rails, there can't be two views with the same name. That's because RMVC is **simple**. So you can't have a view `main` for one controller and a view `main` for another controller. Use this command:\r\n\r\n    $ rmvc generate view intro sudokusolver\r\n\r\nThis one will create a file at `app/views/intro.rb`, with a `require` statement \"linking\" to `app/controllers/sudokusolver_controller.rb`. Its class will be named `IntroView` with the default method `load`. \r\n\r\n### Controllers ###\r\nThese are the most complicated! Use this command:\r\n\r\n    $ rmvc generate controller sudokusolver\r\n\r\nAnd that's basically it! This creates a file `app/controllers/sudokusolver_controller.rb`. It assumes the following things:\r\n\r\n* You'll be using a model named `sudokusolver` (`app/models/sudokusolver.rb`), whose class is `SudokusolverModel`. So it adds a `require` statement for that.\r\n* You'll be using a view named `sudokusolver` (`app/views/sudokusolver.rb`), whose class is `SudokusolverView`. So it adds a `require` statement for that, **AND** it calls the `load` procedure of that view (`SudokusolverView.load`) at its `main` procedure.\r\n\r\nThat's how it should be following the conventions, but usually you won't really agree with that view if you're doing a big application. So you can just change everything refering to `sudokusolver` and `SudokusolverView` to `intro` and `IntroView`, to match the example above.\r\n\r\nOf course, another convention thing is that its class is named `SudokusolverController` and it has a `main` method calling the view. You shouldn't change that.\r\n\r\nThere's also some code to let you add variables, as explained in the section above.\r\n\r\n### Putting everything to work ###\r\nAs said above, you already have lots of `require`s in order to be able to use the model, control and view methods at all the generated files. But, that does nothing! \r\n\r\nIndeed. You just have to do an extra step that has to be done manually. Not because of developer's lazyness, but because RMVC is simple and usually won't do anything you don't expect to.\r\n\r\nIt's as easy as linking to the controller at your main file (if your project is `sudoku`, say `sudoku.rb`). \r\n\r\n```ruby\r\nrequire `./app/controllers/sudokusolver_controller`\r\n```\r\n\r\n**Important!** The `./` before *app* is very important, don't ignore it! Also, don't add a `.rb` extension to the file, that's how require wants it!\r\n\r\nNow you have access to all the controller, model and view's methods from your main/executable file. But usually all what you want to do is call the `main` method of the controller, so all what you would do is:\r\n\r\n```ruby\r\nSudokusolverController.main\r\n```\r\n\r\nThen add all the desired code under the controller, views and models. And you're done!\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}